{"version":3,"file":"static/js/414.37464ab3.chunk.js","mappings":"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","sources":["pages/Performance/Performance.jsx","pages/Performance/index.js","../node_modules/react-bootstrap-icons/dist/icons/pin-map.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport * as Icon from 'react-bootstrap-icons';\nimport { useSelector } from 'react-redux';\nimport Location from '../../components/Location';\nimport * as Utility from '../../scripts/utility';\nimport { selectGPSState } from '../../store/store.selectors';\n\n\nimport '../../css/performance.css';\n\nconst resolution = 100; // 100 milliseconds\n\nexport const Performance = (props) => {\n\tconst gps = useSelector(selectGPSState);\n\tconst [time, setTime] = useState(new Date());\n\tconst [run, setRun] = useState({ start: null, end: null, topSpeed: null, to60: null, times: [], speeds: [] });\n\n\tconst updateTime = () => setTime(new Date());\n\n\tconst logTime = () => {\n\t\tsetRun((currentRun) => {\n\t\t\tif (currentRun.end) return { ...currentRun };\n\n\t\t\tconst now = Date.now();\n\t\t\tsetTimeout(logTime, resolution);\n\n\t\t\treturn {\n\t\t\t\t...currentRun,\n\t\t\t\tstart: currentRun.start || now,\n\t\t\t\ttopSpeed: Math.max(gps?.speed, currentRun.topSpeed),\n\t\t\t\tto60: gps?.speed >= 60 && !currentRun.to60 ? gps?.speed : currentRun.to60,\n\t\t\t\t// times: [...currentRun.times, now],\n\t\t\t\t// speeds: [...currentRun.speeds, currentSpeed || 0]\n\t\t\t};\n\t\t});\n\t};\n\n\tconst endTimer = () => setRun((currentRun) => ({ ...currentRun, end: Date.now() }));\n\n\tconst restartTimer = () => {\n\t\tsetRun((currentRun) => ({ ...currentRun, end: null }));\n\t\tlogTime();\n\t};\n\n\tconst resetTimer = () => setRun({ start: null, end: null, topSpeed: null, to60: null, times: [], speeds: [] });\n\n\tconst getCurrentSpeed = () => String(Math.floor(gps.speed || 0)).padStart(3, '0');\n\n\tconst getTopSpeed = () => String(Math.floor(run.topSpeed || 0)).padStart(3, '0');\n\n\tconst getAcceleration = () => (run.to60 ? `${run.to60.toFixed(2)} s` : 'N/A');\n\n\tconst getDisplayTime = () => {\n\t\tconst now = Date.now();\n\t\tconst duration = (run.end || now) - (run.start || now);\n\t\tconst minutes = String(Math.floor(duration / 1000 / 60) || 0).padStart(2, '0');\n\t\tconst seconds = String(Math.floor((duration / 1000) % 60) || 0).padStart(2, '0');\n\t\tconst milliseconds = String(duration % 1000 || 0).padStart(3, '0');\n\n\t\treturn `${minutes}:${seconds}.${milliseconds}`;\n\t};\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(updateTime, 1000); // 1 second\n\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\tif (gps.failure)\n\t\treturn (\n\t\t\t<div className=\"loading-screen\">\n\t\t\t\t<Icon.PinMap className=\"big-icon\" />\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"loading-text show-unlit\"\n\t\t\t\t\tdata-unlit={Utility.generateUnlitLCD('Error getting location')}\n\t\t\t\t>\n\t\t\t\t\tError getting location\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\treturn (\n\t\t<div id=\"performance\">\n\t\t\t<div id=\"performance-speed\" className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(getCurrentSpeed())}>\n\t\t\t\t{getCurrentSpeed()}\n\t\t\t</div>\n\t\t\t<hr />\n\t\t\t<div id=\"performance-stats\">\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(`${getTopSpeed()} mph`)}>\n\t\t\t\t\t\t{getTopSpeed()} mph\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD('Top Spd')}>\n\t\t\t\t\t\tTop Spd\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(getAcceleration())}>\n\t\t\t\t\t\t{getAcceleration()}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD('00 - 60')}>\n\t\t\t\t\t\t00 - 60\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t{/* <div>\n\t\t\t\t\t<span>1.2 G</span>\n\t\t\t\t\t<span>Top Acc</span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span>12.3 s</span>\n\t\t\t\t\t<span>0-120</span>\n\t\t\t\t</div> */}\n\t\t\t</div>\n\t\t\t<hr />\n\t\t\t<div id=\"performance-timer\" className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(getDisplayTime(), [':'])}>\n\t\t\t\t{getDisplayTime()}\n\t\t\t</div>\n\t\t\t<div id=\"performance-buttons\">\n\t\t\t\t{run.start && !run.end ? (\n\t\t\t\t\t<button type=\"button\" onClick={endTimer}>\n\t\t\t\t\t\tStop\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button type=\"button\" onClick={run.end ? restartTimer : logTime}>\n\t\t\t\t\t\tStart\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<button type=\"button\" onClick={resetTimer}>\n\t\t\t\t\tReset\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Performance;\n","import Performance from './Performance';\n\nexport default Performance;","var _excluded = [\"color\", \"size\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar PinMap = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      title = _ref.title,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z\"\n  }));\n});\nPinMap.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string\n};\nPinMap.defaultProps = {\n  color: 'currentColor',\n  size: '1em',\n  title: null\n};\nexport default PinMap;"],"names":["props","gps","useSelector","selectGPSState","time","setTime","useState","Date","run","setRun","start","end","topSpeed","to60","times","speeds","updateTime","logTime","currentRun","now","setTimeout","Math","max","speed","getCurrentSpeed","String","floor","padStart","getTopSpeed","getAcceleration","concat","toFixed","getDisplayTime","duration","minutes","seconds","milliseconds","useEffect","interval","setInterval","clearInterval","failure","_jsxs","className","children","_jsx","Icon","Utility","id","type","onClick","endTimer","restartTimer","resetTimer","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","PinMap","forwardRef","_ref","ref","color","size","title","rest","React","xmlns","viewBox","width","height","fill","fillRule","d","propTypes","PropTypes","defaultProps"],"sourceRoot":""}