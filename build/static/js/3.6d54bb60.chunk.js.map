{"version":3,"file":"static/js/3.6d54bb60.chunk.js","mappings":"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","sources":["pages/Compass/Compass.jsx","pages/Compass/index.js","../node_modules/react-bootstrap-icons/dist/icons/pin-map.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport * as Icon from 'react-bootstrap-icons';\nimport { useSelector } from 'react-redux';\nimport Location from '../../components/Location';\nimport Gyroscope from '../../components/Gyroscope';\nimport * as Utility from '../../scripts/utility';\nimport { selectGPSState, selectGyroState, selectSettingState } from '../../store/store.selectors';\n\nimport '../../css/compass.css';\n\nexport const Compass = (props) => {\n\tconst settings = useSelector(selectSettingState);\n\tconst location = useSelector(selectGPSState);\n\tconst gyro = useSelector(selectGyroState);\n\n\tconst getCompassSize = () => {\n\t\tconst coordinateHeight = document.getElementById('compass-coordinates')?.clientHeight || 0;\n\t\tconst positionHeight = document.getElementById('compass-positioning')?.clientHeight || 0;\n\t\tconst topHeight = document.getElementById('top')?.clientHeight || 0;\n\t\tconst bottomHeight = document.getElementById('bottom')?.clientHeight || 0;\n\t\tconst contentHeight = document.getElementById('content')?.clientHeight || 0;\n\t\tconst contentWidth = document.getElementById('content')?.clientWidth || 0;\n\n\t\treturn Math.min(contentHeight - topHeight - bottomHeight - positionHeight - coordinateHeight, contentWidth);\n\t};\n\n\tconst getDisplayLatitude = () => {\n\t\t// if (!location?.latitude) return '';\n\n\t\tconst direction = location?.latitude >= 0 ? 'N' : 'S';\n\t\tconst latitude = Math.abs(location?.latitude || 0).toFixed(3);\n\n\t\treturn <>{latitude}<span className=\"units\">° {direction}</span></>;\n\t};\n\n\tconst getDisplayLongitude = () => {\n\t\t// if (!location?.longitude) return '';\n\n\t\tconst direction = location?.latitude >= 0 ? 'E' : 'W';\n\t\tconst longitude = Math.abs(location?.longitude || 0).toFixed(3);\n\n\t\treturn <>{longitude}<span className=\"units\">° {direction}</span></>;\n\t};\n\n\tconst getDisplayAltitude = () => {\n\t\tconst units = settings.units === 'imperial' ? 'ft' : 'm';\n\t\tconst value = Math.floor(location?.altitude || 0);\n\t\tconst sign = value < 0 ? '-' : '';\n\t\tlet length = value < 0 ? 3 : 4;\n\n\t\tif (units === 'm') length++;\n\n\t\treturn <>{sign}{String(Math.abs(value)).padStart(length, '0')}<span className=\"units\"> {units}</span></>;\n\t};\n\n\tconst getDisplaySpeed = () => {\n\t\tconst units = settings.units === 'imperial' ? 'mph' : 'km/h';\n\t\tconst value = Math.floor(location?.speed || 0);\n\t\tconst sign = value < 0 ? '-' : '';\n\t\tlet length = value < 0 ? 2 : 3;\n\n\t\tif (units === 'm') length--;\n\n\t\treturn <>{sign}{String(Math.abs(value)).padStart(length, '0')}<span className=\"units\"> {units}</span></>;\n\t};\n\n\t// if (location === null)\n\t// \treturn (\n\t// \t\t<div className=\"loading-screen\">\n\t// \t\t\t<Icon.Compass className=\"big-icon\" />\n\t// \t\t\t<div\n\t// \t\t\t\tclassName=\"loading-text show-unlit\"\n\t// \t\t\t\tdata-unlit={Utility.generateUnlitLCD('Compass loading...')}\n\t// \t\t\t>\n\t// \t\t\t\tCompass loading...\n\t// \t\t\t</div>\n\t// \t\t</div>\n\t// \t);\n\n\tif (location.failure)\n\t\treturn (\n\t\t\t<div className=\"loading-screen\">\n\t\t\t\t<Icon.PinMap className=\"big-icon\" />\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"loading-text show-unlit\"\n\t\t\t\t\tdata-unlit={Utility.generateUnlitLCD('Error getting location')}\n\t\t\t\t>\n\t\t\t\t\tError getting location\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\treturn (\n\t\t<div id=\"compass\">\n\t\t\t<div id=\"compass-coordinates\">\n\t\t\t\t<span\n\t\t\t\t\tid=\"compass-coordinates-latitude\"\n\t\t\t\t\tclassName=\"show-unlit\"\n\t\t\t\t\tdata-unlit={Utility.generateUnlitLCD(getDisplayLatitude())}\n\t\t\t\t>\n\t\t\t\t\t{getDisplayLatitude()}\n\t\t\t\t</span>\n\n\t\t\t\t<span\n\t\t\t\t\tid=\"compass-coordinates-longitude\"\n\t\t\t\t\tclassName=\"show-unlit\"\n\t\t\t\t\tdata-unlit={Utility.generateUnlitLCD(getDisplayLongitude())}\n\t\t\t\t>\n\t\t\t\t\t{getDisplayLongitude()}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div id=\"compass-compass\" style={{ height: getCompassSize(), width: getCompassSize() }}>\n\t\t\t\t<div id=\"compass-directions\" style={{ transform: `rotate(${gyro?.heading || location?.heading || 0}deg)` }} />\n\t\t\t\t<div id=\"compass-tilt\" style={{ transform: `rotate(${gyro?.tilt || location?.tilt || 0}deg)` }} />\n\t\t\t\t<div id=\"compass-tilt-value\">{`${Math.round(gyro?.tilt || location?.tilt || 0)}°`}</div>\n\t\t\t\t<div\n\t\t\t\t\tid=\"compass-climb\"\n\t\t\t\t\tstyle={{ backgroundPositionY: `${(-(gyro?.climb || location?.climb || 0) * 79) / 45 + 50}%` }}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div id=\"compass-positioning\">\n\t\t\t\t<div id=\"compass-altitude\" className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(getDisplayAltitude())}>\n\t\t\t\t\t{getDisplayAltitude()}\n\t\t\t\t\t<br />\n\t\t\t\t\t{/* <span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD('Altitude')}>\n\t\t\t\t\t\tAltitude\n\t\t\t\t\t</span> */}\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"compass-speed\" className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD(getDisplaySpeed())}>\n\t\t\t\t\t{getDisplaySpeed()}\n\t\t\t\t\t<br />\n\t\t\t\t\t{/* <span className=\"show-unlit\" data-unlit={Utility.generateUnlitLCD('Velocity')}>\n\t\t\t\t\tVelocity\n\t\t\t\t\t</span> */}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Compass;\n","import Compass from './Compass';\n\nexport default Compass;\n","var _excluded = [\"color\", \"size\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar PinMap = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      title = _ref.title,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z\"\n  }));\n});\nPinMap.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string\n};\nPinMap.defaultProps = {\n  color: 'currentColor',\n  size: '1em',\n  title: null\n};\nexport default PinMap;"],"names":["props","settings","useSelector","selectSettingState","location","selectGPSState","gyro","selectGyroState","getCompassSize","_document$getElementB","_document$getElementB2","_document$getElementB3","_document$getElementB4","_document$getElementB5","_document$getElementB6","coordinateHeight","document","getElementById","clientHeight","positionHeight","topHeight","bottomHeight","contentHeight","contentWidth","clientWidth","Math","min","getDisplayLatitude","direction","latitude","abs","toFixed","_jsxs","_Fragment","children","className","getDisplayLongitude","longitude","getDisplayAltitude","units","value","floor","altitude","sign","length","String","padStart","getDisplaySpeed","speed","failure","_jsx","Icon","Utility","id","style","height","width","transform","concat","heading","tilt","round","backgroundPositionY","climb","_excluded","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","PinMap","forwardRef","_ref","ref","color","size","title","rest","React","xmlns","viewBox","fill","fillRule","d","propTypes","PropTypes","defaultProps"],"sourceRoot":""}