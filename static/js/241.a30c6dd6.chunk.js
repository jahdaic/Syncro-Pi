"use strict";(self.webpackChunksyncro_pi=self.webpackChunksyncro_pi||[]).push([[241],{534:(e,n,o)=>{o.d(n,{Z:()=>s});o(2791);var t=o(3329);const i=e=>{let{children:n,onConfirm:o,onCancel:i,...s}=e;return(0,t.jsx)("div",{id:"confirm",children:(0,t.jsxs)("div",{id:"confirm-modal",children:[n,(0,t.jsx)("div",{id:"confirm-buttons",children:(0,t.jsxs)("div",{id:"performance-buttons",children:[(0,t.jsx)("button",{type:"button",onClick:o,children:"Confirm"}),(0,t.jsx)("button",{type:"button",onClick:i,children:"Cancel"})]})})]})})};i.defaultProps={children:null};const s=i},814:(e,n,o)=>{o.d(n,{Z:()=>l});var t=o(2791),i=o(534),s=o(8978),c=o(3329);let a=null;const r=e=>{let{interval:n=1,onUpdate:o,...r}=e;const[l,d]=(0,t.useState)("orientation"),[u,g]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!0),[v,y]=(0,t.useState)(0),m=e=>{y((e=>e+1)),console.log("Failed to get position via ".concat(l)),console.error(e.type)},w=e=>({heading:e.z,climb:e.y,tilt:e.x,method:l}),x=e=>({heading:e.webkitCompassHeading||e.alpha,climb:e.beta,tilt:e.gamma,method:l,failures:v}),f=()=>{"orientation"===l&&(DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((e=>{"granted"===e?(g(!0),window.addEventListener("deviceorientation",(e=>o(x(e))),{})):(p(!1),m("Device Motion API permission denied"))})).catch((e=>{e.name.includes("NotAllowedError")&&p(!1),m(e)})):window.addEventListener("deviceorientation",(e=>o(x(e))))),"gyroscope"===l&&(()=>{var e,t;null!==(e=navigator)&&void 0!==e&&null!==(t=e.permissions)&&void 0!==t&&t.query?navigator.permissions.query({name:"gyroscope"}).then((e=>{"granted"===e.state||"prompt"===e.state?(console.log("Permission granted"),a=new window.Gyroscope({frequency:n}),a.addEventListener("reading",(e=>{o(w(a)),console.log("Angular velocity along the X-axis ".concat(a.x)),console.log("Angular velocity along the Y-axis ".concat(a.y)),console.log("Angular velocity along the Z-axis ".concat(a.z))})),a.start()):m("Gyroscope API permission denied")})).catch(m):window.Gyroscope&&(console.log("Permission not granted"),a=new window.Gyroscope({frequency:n}),a.addEventListener("reading",(e=>{o(w(a)),console.log("Angular velocity along the X-axis ".concat(a.x)),console.log("Angular velocity along the Y-axis ".concat(a.y)),console.log("Angular velocity along the Z-axis ".concat(a.z))})),a.start())})()};return(0,t.useEffect)(f,[]),u||h?null:(0,c.jsx)(i.Z,{onConfirm:()=>{p(!0),f()},onCancel:()=>{p(!0)},children:(0,c.jsx)("span",{className:"show-unlit","data-unlit":s.jB(3,20),children:"You must grant permission to access the gyroscope."})})};r.defaultProps={interval:1};const l=r},8241:(e,n,o)=>{o.r(n),o.d(n,{default:()=>a});var t=o(2791),i=o(6886),s=o(814),c=o(3329);const a=e=>{const[n,o]=(0,t.useState)([]),a=e=>{e&&o((n=>[...n,"".concat((new Date).toLocaleTimeString()," - ").concat(e)]))};return(0,i.y1)("*",(e=>{a("Key pressed: ".concat(e.key," (").concat(e.keyCode,")"))})),(0,t.useEffect)((async()=>{a("Window Outer Size: ".concat(window.outerHeight," \xd7 ").concat(window.outerWidth)),a("Window Inner Size: ".concat(window.innerHeight," \xd7 ").concat(window.innerWidth))}),[]),(0,c.jsxs)("div",{id:"test",children:["Output",(0,c.jsx)(s.Z,{onUpdate:e=>a(JSON.stringify(e))}),(0,c.jsx)("textarea",{id:"test-output",value:n.join("\n\n"),readOnly:!0}),(0,c.jsx)("button",{type:"button",onClick:DeviceMotionEvent.requestPermission,children:"Permission"}),(0,c.jsx)("button",{type:"button",onClick:()=>o([]),children:"Clear"})]})}}}]);
//# sourceMappingURL=241.a30c6dd6.chunk.js.map